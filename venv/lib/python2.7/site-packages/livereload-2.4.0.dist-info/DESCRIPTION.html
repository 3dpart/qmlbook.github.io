<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LiveReload &mdash; Qt5 Cadaques Book v2015-03</title>
    
    <link rel="stylesheet" href="../../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootswatch-3.3.4/sandstone/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '2015-03',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Qt5 Cadaques Book v2015-03" href="../../../../../index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../../index.html">
          QmlBook</a>
        <span class="navbar-text navbar-version pull-left"><b>2015-03</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../../index.html">Chapters <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch01/index.html">1. Meet Qt 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch02/index.html">2. Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch03/index.html">3. Qt Creator IDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch04/index.html">4. Quick Starter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch05/index.html">5. Fluid Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch06/index.html">6. Model-View-Delegate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch07/index.html">7. Canvas Element</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch08/index.html">8. Particle Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch09/index.html">9. Shader Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch10/index.html">10. Multimedia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch11/index.html">11. Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch12/index.html">12. Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch13/index.html">13. Dynamic QML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch14/index.html">14. JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch15/index.html">15. Qt and C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../en/ch16/index.html">16. Extending QML with C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../assets/index.html">16. Assets</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">LiveReload</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#command-line-interface">Command Line Interface</a></li>
<li><a class="reference internal" href="#script-example-sphinx">Script example: Sphinx</a></li>
<li><a class="reference internal" href="#developer-guide">Developer Guide</a><ul>
<li><a class="reference internal" href="#server-watch">server.watch</a></li>
<li><a class="reference internal" href="#server-serve">server.serve</a></li>
<li><a class="reference internal" href="#shell">shell</a></li>
</ul>
</li>
<li><a class="reference internal" href="#frameworks-integration">Frameworks Integration</a><ul>
<li><a class="reference internal" href="#django">Django</a></li>
<li><a class="reference internal" href="#flask">Flask</a></li>
<li><a class="reference internal" href="#bottle">Bottle</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="livereload">
<h1>LiveReload<a class="headerlink" href="#livereload" title="Permalink to this headline">¶</a></h1>
<p>This is a brand new LiveReload in version 2.0.0.</p>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/livereload"><img alt="Downloads" src="https://pypip.in/d/livereload/badge.png" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/livereload"><img alt="Version" src="https://pypip.in/v/livereload/badge.png" /></a>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Python LiveReload is designed for web developers who know Python.</p>
<p>Install Python LiveReload with pip:</p>
<div class="highlight-qml"><div class="highlight"><pre><span class="nx">$</span> <span class="nx">pip</span> <span class="nx">install</span> <span class="nx">livereload</span>
</pre></div>
</div>
<p>If you don&#8217;t have pip installed, try easy_install:</p>
<div class="highlight-qml"><div class="highlight"><pre><span class="nx">$</span> <span class="nx">easy_install</span> <span class="nx">livereload</span>
</pre></div>
</div>
</div>
<div class="section" id="command-line-interface">
<h2>Command Line Interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h2>
<p>Python LiveReload provides a command line utility, <code class="docutils literal"><span class="pre">livereload</span></code>, for starting a server in a directory.</p>
<p>By default, it will listen to port 35729, the common port for <a class="reference external" href="http://feedback.livereload.com/knowledgebase/articles/86242-how-do-i-install-and-use-the-browser-extensions-">LiveReload browser extensions</a>.</p>
<div class="highlight-qml"><div class="highlight"><pre>$ livereload --help
usage: livereload [-h] [-p PORT] [directory]

Start a `livereload` server

positional arguments:
  directory             Directory to watch for changes

optional arguments:
  -h, --help            show this help message and exit
  -p PORT, --port PORT  Port to run `livereload` server on
</pre></div>
</div>
<p>Older versions of Python LiveReload used a <code class="docutils literal"><span class="pre">Guardfile</span></code> to describe optional additional rules for files to watch and build commands to run on changes.  This conflicted with other tools that used the same file for their configuration and is no longer supported since Python LiveReload version 2.0.0.  Instead of a <code class="docutils literal"><span class="pre">Guardfile</span></code> you can now write a Python script using very similar syntax and run it instead of the command line application.</p>
</div>
<div class="section" id="script-example-sphinx">
<h2>Script example: Sphinx<a class="headerlink" href="#script-example-sphinx" title="Permalink to this headline">¶</a></h2>
<p>Here&#8217;s a simple example script that rebuilds Sphinx documentation:</p>
<div class="code python highlight-qml"><div class="highlight"><pre>#!/usr/bin/env python
from livereload import Server, shell
server = Server()
server.watch(&#39;docs/*.rst&#39;, shell(&#39;make html&#39;, cwd=&#39;docs&#39;))
server.serve(root=&#39;docs/_build/html&#39;)
</pre></div>
</div>
<p>Run it, then open <a class="reference external" href="http://localhost:5500/">http://localhost:5500/</a> and you can see the documentation changes in real time.</p>
</div>
<div class="section" id="developer-guide">
<h2>Developer Guide<a class="headerlink" href="#developer-guide" title="Permalink to this headline">¶</a></h2>
<p>The new livereload server is designed for developers. It can power a
wsgi application now:</p>
<div class="code python highlight-qml"><div class="highlight"><pre>from livereload import Server, shell

server = Server(wsgi_app)

# run a shell command
server.watch(&#39;static/*.stylus&#39;, &#39;make static&#39;)

# run a function
def alert():
    print(&#39;foo&#39;)
server.watch(&#39;foo.txt&#39;, alert)

# output stdout into a file
server.watch(&#39;style.less&#39;, shell(&#39;lessc style.less&#39;, output=&#39;style.css&#39;))

server.serve()
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">Server</span></code> class accepts parameters:</p>
<ul class="simple">
<li>app: a wsgi application</li>
<li>watcher: a watcher instance, you don&#8217;t have to create one</li>
</ul>
<div class="section" id="server-watch">
<h3>server.watch<a class="headerlink" href="#server-watch" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">server.watch</span></code> can watch a filepath, a directory and a glob pattern:</p>
<div class="highlight-qml"><div class="highlight"><pre><span class="nx">server</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;path/to/file.txt&#39;</span><span class="p">)</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;directory/path/&#39;</span><span class="p">)</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;glob/*.pattern&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use other library (for example: formic) for more powerful
file adding:</p>
<div class="highlight-qml"><div class="highlight"><pre><span class="k">for</span> <span class="nx">filepath</span> <span class="k">in</span> <span class="nx">formic</span><span class="p">.</span><span class="nx">FileSet</span><span class="p">(</span><span class="nx">include</span><span class="o">=</span><span class="s2">&quot;**.css&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">server</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="nx">filepath</span><span class="p">,</span> <span class="s1">&#39;make css&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can delay a certain seconds to send the reload signal:</p>
<div class="highlight-qml"><div class="highlight"><pre># delay 2 seconds for reloading
server.watch(&#39;path/to/file&#39;, delay=2)
</pre></div>
</div>
</div>
<div class="section" id="server-serve">
<h3>server.serve<a class="headerlink" href="#server-serve" title="Permalink to this headline">¶</a></h3>
<p>Setup a server with <code class="docutils literal"><span class="pre">server.serve</span></code> method. It can create a static server
and a livereload server:</p>
<div class="highlight-qml"><div class="highlight"><pre># use default settings
server.serve()

# livereload on another port
server.serve(liveport=35729)

# use custom host and port
server.serve(port=8080, host=&#39;localhost&#39;)

# open the web browser on startup
server.serve(open_url=True, debug=False)
</pre></div>
</div>
</div>
<div class="section" id="shell">
<h3>shell<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h3>
<p>The powerful <code class="docutils literal"><span class="pre">shell</span></code> function will help you to execute shell commands. You
can use it with <code class="docutils literal"><span class="pre">server.watch</span></code>:</p>
<div class="highlight-qml"><div class="highlight"><pre># you can redirect command output to a file
server.watch(&#39;style.less&#39;, shell(&#39;lessc style.less&#39;, output=&#39;style.css&#39;))

# commands can be a list
server.watch(&#39;style.less&#39;, shell([&#39;lessc&#39;, &#39;style.less&#39;], output=&#39;style.css&#39;))

# working with Makefile
server.watch(&#39;assets/*.styl&#39;, shell(&#39;make assets&#39;, cwd=&#39;assets&#39;))
</pre></div>
</div>
</div>
</div>
<div class="section" id="frameworks-integration">
<h2>Frameworks Integration<a class="headerlink" href="#frameworks-integration" title="Permalink to this headline">¶</a></h2>
<p>Livereload can work seamlessly with your favorite framework.</p>
<div class="section" id="django">
<h3>Django<a class="headerlink" href="#django" title="Permalink to this headline">¶</a></h3>
<p>Here is a little hint on Django. Change your <code class="docutils literal"><span class="pre">manage.py</span></code> file to:</p>
<div class="code python highlight-qml"><div class="highlight"><pre>#!/usr/bin/env python
import os
import sys

if __name__ == &quot;__main__&quot;:
    os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;hello.settings&quot;)

    from django.core.management import execute_from_command_line

    if &#39;livereload&#39; in sys.argv:
        from django.core.wsgi import get_wsgi_application
        from livereload import Server
        application = get_wsgi_application()
        server = Server(application)

        # Add your watch
        # server.watch(&#39;path/to/file&#39;, &#39;your command&#39;)
        server.serve()
    else:
        execute_from_command_line(sys.argv)
</pre></div>
</div>
<p>When you execute <code class="docutils literal"><span class="pre">./manage.py</span> <span class="pre">livereload</span></code>, it will start a livereload server.</p>
</div>
<div class="section" id="flask">
<h3>Flask<a class="headerlink" href="#flask" title="Permalink to this headline">¶</a></h3>
<p>Wrap Flask with livereload is much simpler:</p>
<div class="code python highlight-qml"><div class="highlight"><pre># app is a Flask object
app = create_app()

server = Server(app.wsgi_app)
# server.watch
server.serve()
</pre></div>
</div>
</div>
<div class="section" id="bottle">
<h3>Bottle<a class="headerlink" href="#bottle" title="Permalink to this headline">¶</a></h3>
<p>Wrap the <code class="docutils literal"><span class="pre">Bottle</span></code> app with livereload server:</p>
<div class="code python highlight-qml"><div class="highlight"><pre>app = Bottle()
server = Server(app)
# server.watch
server.serve()
</pre></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2012-2014 Jürgen Bocklage-Ryannel and Johan Thelin. This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.<br/>
      Last updated on Jul 20, 2015.<br/>
    </p>
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46104829-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>